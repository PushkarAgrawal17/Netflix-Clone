<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign In | Netflix Clone</title>
    <link rel="stylesheet" href="2auth2.css" />
    <link rel="icon" type="image/png" href="./Images/favicon.png" />
    <!-- Toastify CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

</head>

<body>
  <div class="pixel-grid" id="pixelGrid"></div>

        <!-- Navbar -->
        <header class="navbar">
            <img src="Images/Netflix-Talks-Photoroom.png" alt="Netflix Logo" class="logo" />
            <div class="navbar-actions">
                <select class="language-select">
                    <option>English</option>
                    <option>हिन्दी</option>
                </select>
            </div>
        </header>

        <!-- Main Center Content -->
            <div class="container">
                <h1>Sign In</h1>
                <div class="input-box">
                    <input type="email" id="email" placeholder="Email Address" />
                </div>
                <div class="input-box">
                    <input type="password" id="password" placeholder="Password" />
                </div>
                <button onclick="login()" class="sign-in-btn">Sign In</button>
                <div class="options">
                    <label><input type="checkbox" checked /> Remember me</label>
                    <a class="link forgot-password" href="#">Forgot password?</a>
                </div>
                <div class="signup">
                    New to Netflix?
                    <a class="link" href="2sign_Up.html">Sign up now.</a>
                </div>
                <br />
                <div class="captcha">
                    This page is protected by Google reCAPTCHA to ensure you're not a
                    bot.
                    <br /><br />
                    <a href="#">Learn more.</a>
                </div>
            </div>
    </div>

    <!--------------- Scripts --------------->
<!-- Pixel Hover Script (0.8s) -->
  <script>
    const grid = document.getElementById("pixelGrid");

    const pixelSize = 64; // 60px + 4px gap
    const columns = Math.ceil(window.innerWidth / pixelSize);
    const rows = Math.ceil(window.innerHeight / pixelSize);
    const pixelCount = columns * rows;

    for (let i = 0; i < pixelCount; i++) {
      const pixel = document.createElement("div");
      pixel.classList.add("pixel");

      pixel.addEventListener("mouseenter", () => {
        pixel.style.backgroundColor = "red";
        setTimeout(() => {
          pixel.style.backgroundColor = "#0a0a0a";
        }, 800); // ← Change timeout duration here
      });

      grid.appendChild(pixel);
    }
  </script>

    <script type="module">
        import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";
        import { app } from "./firebase-auth.js";

        const auth = getAuth(app);

        document.querySelector(".forgot-password").addEventListener("click", async (e) => {
            e.preventDefault();

            const email = document.getElementById("email").value;
            if (!email) {
                alert("Please enter your email address first!");
                return;
            }

            try {
                await sendPasswordResetEmail(auth, email);
                alert(`Password reset email sent to ${email}`);
            } catch (error) {
                console.error(error);
                alert(`Error: ${error.message}`);
            }
        });
    </script>

    <script>
        //GET STARTED EMAIL
        window.addEventListener("DOMContentLoaded", () => {
            const params = new URLSearchParams(window.location.search);
            const email = params.get("email");
            if (email) {
                const emailInput = document.querySelector('input[type="email"]');
                if (emailInput) emailInput.value = email;
            }
        });
    </script>
    <!-- Toastify JS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script type="module" src="firebase-auth.js"></script>
</body>

</html>